#!/bin/bash
#    _____ _     ____  ____  ____  ____  _____
#   /    // \   /  _ \/  __\/  _ \/  __\/__ __\
#   |  __\| |   | / \||  \/|| / \||  \/|  / \
#   | |   | |_/\| |-|||  __/| \_/||    /  | |
#   \_/   \____/\_/ \|\_/   \____/\_/\_\  \_/
#

if [ -f /etc/systemd/system/jupyterhub.service ]; then
    if [[ $(systemctl is-active jupyterhub) == "active" ]]; then
        echo ü™ê
        show() {
            notify-send "Jupyterhub" "active\n(right click to stop)\n\n$($HOME/.config/i3blocks/jupyterhub/jupyterhubstatus)"
        }
        stopp() {
            sudo -A systemctl stop jupyterhub && /usr/bin/pkill -RTMIN+12 i3blocks 
        }
        case $BLOCK_BUTTON in
            1) show ;;
            3) stopp ;;
            #3) pkill -f tjupyterhub
        esac
    else
        echo "‚ùå"
        show() {
            notify-send "Jupyterhub" "inactive\n(right click to start)\n\n$($HOME/.config/i3blocks/jupyterhub/jupyterhubstatus)"
        }
        startt() {
            sudo -A systemctl start jupyterhub && /usr/bin/pkill -RTMIN+12 i3blocks
        }
        case $BLOCK_BUTTON in
            1) show ;;
            3) startt ;;
        esac
    fi
fi

